// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`test enum service 1`] = `
"/**
 * auto generated by dubbo dj
 * ~~~ ğŸ’— machine coding ğŸ’— ~~~
 */

import Color from '../enum/Color'
import EnumService from './base/EnumService'

export default class EnumServiceImpl extends EnumService {
  constructor() {
    super()
  }

  async sayHello(color: Color): Promise<Color> {
    throw new Error('Method not implemented.')
  }
}
"
`;

exports[`test generic service 1`] = `
"/**
 * auto generated by dubbo dj
 * ~~~ ğŸ’— machine coding ğŸ’— ~~~
 */

import { IUser } from '../../domain/User'
import Color from '../../enum/Color'
import s from '@dubbo/sugar'

export default abstract class GenService {
  dubboInterface = 'org.apache.dubbo.service.GenService'
  group = 'dubbo'
  version = '1.0.0'

  constructor() {
    this.methods = {
      sayHello: (name: Array<string>) => this.sayHello(name),
      sayWorld: (user: Array<IUser>, color: Color) => {
        const res = this.sayWorld(user, color)
        return s.$mhs(res)
      },
    }
  }

  abstract sayHello(name: Array<string>): Promise<void>

  abstract sayWorld(
    user: Array<IUser>,
    color: Color
  ): Promise<Map<string, IUser>>
}
"
`;

exports[`test user service 1`] = `
"/**
 * auto generated by dubbo dj
 * ~~~ ğŸ’— machine coding ğŸ’— ~~~
 */

import User, { IUser } from '../domain/User'
import Color from '../enum/Color'
import s from '@dubbo/sugar'
import UserService from './base/UserService'

/**
 * ç”¨æˆ·æœåŠ¡
 */

export default class UserServiceImpl extends UserService {
  constructor() {
    super()
  }

  async sayHello(
    name: string,
    user: IUser,
    users: Array<IUser>
  ): Promise<string> {
    throw new Error('Method not implemented.')
  }

  async sayWorld(
    name: string,
    user: IUser,
    users: Array<IUser>
  ): Promise<IUser> {
    throw new Error('Method not implemented.')
  }

  async add(x: number, y: number): Promise<number> {
    throw new Error('Method not implemented.')
  }

  async getColor(color: Color): Promise<Color> {
    throw new Error('Method not implemented.')
  }

  async getUsers(): Promise<Array<IUser>> {
    throw new Error('Method not implemented.')
  }
}
"
`;

exports[`test user service 2`] = `
"/**
 * auto generated by dubbo dj
 * ~~~ ğŸ’— machine coding ğŸ’— ~~~
 */

import User, { IUser } from '../../domain/User'
import Color from '../../enum/Color'
import s from '@dubbo/sugar'

/**
 * ç”¨æˆ·æœåŠ¡
 */

export default abstract class UserService {
  dubboInterface = 'org.apache.dubbo.service.UserService'
  group = 'dubbo'
  version = '1.0.0'

  constructor() {
    this.methods = {
      sayHello: (name: string, user: IUser, users: Array<IUser>) => {
        const res = this.sayHello(name, user, users)
        return java.String(res)
      },
      sayWorld: (name: string, user: IUser, users: Array<IUser>) => {
        const res = this.sayWorld(name, user, users)
        return new User(res).__field2java()
      },
      add: (x: number, y: number) => {
        const res = this.add(x, y)
        return java.int(res)
      },
      getColor: (color: Color) => {
        const res = this.getColor(color)
        return java.enum('org.apache.dubbo.enum.Color', Color[res])
      },
      getUsers: () => {
        const res = this.getUsers()
        return java.List(s.$lhs(res))
      },
    }
  }

  abstract sayHello(
    name: string,
    user: IUser,
    users: Array<IUser>
  ): Promise<string>

  abstract sayWorld(
    name: string,
    user: IUser,
    users: Array<IUser>
  ): Promise<IUser>

  abstract add(x: number, y: number): Promise<number>

  abstract getColor(color: Color): Promise<Color>

  abstract getUsers(): Promise<Array<IUser>>
}
"
`;

exports[`test user service 3`] = `
"/**
 * auto generated by dubbo dj
 * ~~~ ğŸ’— machine coding ğŸ’— ~~~
 */

import { Dubbo, TDubboCallResult } from 'apache-dubbo-js'
import { argumentMap } from 'interpret-util'
import User, { IUser } from '../../domain/User'
import Color from '../../enum/Color'
import s from '@dubbo/sugar'

export interface IUserService {
  sayHello(
    name: string,
    user: IUser,
    users: Array<IUser>
  ): TDubboCallResult<string>

  sayWorld(
    name: string,
    user: IUser,
    users: Array<IUser>
  ): TDubboCallResult<IUser>

  add(x: number, y: number): TDubboCallResult<number>

  getColor(color: Color): TDubboCallResult<Color>

  getUsers(): TDubboCallResult<Array<IUser>>
}

export const UserServiceWrapper = {
  sayHello: argumentMap,
  sayWorld: argumentMap,
  add: argumentMap,
  getColor: argumentMap,
  getUsers: argumentMap,
}

/**
 * ç”¨æˆ·æœåŠ¡
 */

export function UserService(dubbo: Dubbo): IUserService {
  return dubbo.proxyService<IUserService>({
    dubboInterface: 'org.apache.dubbo.service.UserService',
    methods: UserServiceWrapper,
  })
}
"
`;
